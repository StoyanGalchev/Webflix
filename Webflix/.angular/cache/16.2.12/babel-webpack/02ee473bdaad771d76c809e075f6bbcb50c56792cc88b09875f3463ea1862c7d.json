{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/modal.service\";\nimport * as i2 from \"../services/movie.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ModalComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\", 1);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_section_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.close());\n    });\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_div_click_2_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(3, \"h1\");\n    i0.ɵɵtext(4, \"Attention!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6, \"Do you really want to DELETE \");\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 2)(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.close());\n    });\n    i0.ɵɵtext(12, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.delete());\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const display_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"open\", display_r1 === \"open\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n  }\n}\nexport class ModalComponent {\n  constructor(modalService, movieService, router, route) {\n    this.modalService = modalService;\n    this.movieService = movieService;\n    this.router = router;\n    this.route = route;\n    this.movieId = this.route.snapshot.params[\"id\"];\n  }\n  ngOnInit() {\n    this.display$ = this.modalService.watch();\n  }\n  close() {\n    this.modalService.close();\n  }\n  delete() {\n    this.movieService.deleteMovie(this.movieId).subscribe(() => {\n      this.modalService.close();\n      this.router.navigate([\"dashboard\"]);\n    });\n  }\n  static #_ = this.ɵfac = function ModalComponent_Factory(t) {\n    return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.ModalService), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ModalComponent,\n    selectors: [[\"app-modal\"]],\n    inputs: {\n      title: \"title\"\n    },\n    decls: 2,\n    vars: 3,\n    consts: [[4, \"ngIf\"], [3, \"click\"], [1, \"buttons\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"]],\n    template: function ModalComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, ModalComponent_ng_container_0_Template, 15, 3, \"ng-container\", 0);\n        i0.ɵɵpipe(1, \"async\");\n      }\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.display$));\n      }\n    },\n    dependencies: [i4.NgIf, i4.AsyncPipe],\n    styles: [\"section[_ngcontent-%COMP%] {\\n  visibility: hidden;\\n  opacity: 0;\\n\\n  &.open {\\n    visibility: inherit;\\n    opacity: 1;\\n  }\\n\\n  display: block;\\n\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n  bottom: 0;\\n\\n  background: rgba(0, 0, 0, 0.2);\\n  transition: opacity 250ms ease-in;\\n\\n  >div {\\n    position: absolute;\\n    top: 50%;\\n    left: 50%;\\n    transform: translate(-50%, -50%);\\n\\n    height: 25em;\\n    width: 50em;\\n\\n    background: #ed0000;\\n    padding: 64px;\\n\\n    border-radius: 8px;\\n\\n    box-shadow: 0 0 8px 4px rgba(0, 0, 0, 0.1);\\n  }\\n\\n  .buttons {\\n    display: flex;\\n    gap: 3em;\\n  }\\n\\n  .buttons button {\\n    background-color: black;\\n    color: #ed0000;\\n    padding: 1em 2em;\\n    font-size: 1.2em;\\n    border: 1px solid #ed0000;\\n  }\\n\\n  .buttons button:hover {\\n    color: white;\\n    border-color: white;\\n    cursor: pointer;\\n  }\\n\\n  >div h1 {\\n    margin-bottom: 1.1em;\\n    padding: 0;\\n  }\\n\\n  >div h2 {\\n    margin-bottom: 1em;\\n    padding: 0;\\n  }\\n  >div h2 span{\\n    color: red;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZS9tb2RhbC9tb2RhbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQWtCO0VBQ2xCLFVBQVU7O0VBRVY7SUFDRSxtQkFBbUI7SUFDbkIsVUFBVTtFQUNaOztFQUVBLGNBQWM7O0VBRWQsa0JBQWtCO0VBQ2xCLE1BQU07RUFDTixPQUFPO0VBQ1AsUUFBUTtFQUNSLFNBQVM7O0VBRVQsOEJBQThCO0VBQzlCLGlDQUFpQzs7RUFFakM7SUFDRSxrQkFBa0I7SUFDbEIsUUFBUTtJQUNSLFNBQVM7SUFDVCxnQ0FBZ0M7O0lBRWhDLFlBQVk7SUFDWixXQUFXOztJQUVYLG1CQUFtQjtJQUNuQixhQUFhOztJQUViLGtCQUFrQjs7SUFFbEIsMENBQTBDO0VBQzVDOztFQUVBO0lBQ0UsYUFBYTtJQUNiLFFBQVE7RUFDVjs7RUFFQTtJQUNFLHVCQUF1QjtJQUN2QixjQUFjO0lBQ2QsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtJQUNoQix5QkFBeUI7RUFDM0I7O0VBRUE7SUFDRSxZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLGVBQWU7RUFDakI7O0VBRUE7SUFDRSxvQkFBb0I7SUFDcEIsVUFBVTtFQUNaOztFQUVBO0lBQ0Usa0JBQWtCO0lBQ2xCLFVBQVU7RUFDWjtFQUNBO0lBQ0UsVUFBVTtFQUNaO0FBQ0YiLCJzb3VyY2VzQ29udGVudCI6WyJzZWN0aW9uIHtcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICBvcGFjaXR5OiAwO1xuXG4gICYub3BlbiB7XG4gICAgdmlzaWJpbGl0eTogaW5oZXJpdDtcbiAgICBvcGFjaXR5OiAxO1xuICB9XG5cbiAgZGlzcGxheTogYmxvY2s7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG5cbiAgYmFja2dyb3VuZDogcmdiYSgwLCAwLCAwLCAwLjIpO1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDI1MG1zIGVhc2UtaW47XG5cbiAgPmRpdiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcblxuICAgIGhlaWdodDogMjVlbTtcbiAgICB3aWR0aDogNTBlbTtcblxuICAgIGJhY2tncm91bmQ6ICNlZDAwMDA7XG4gICAgcGFkZGluZzogNjRweDtcblxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcblxuICAgIGJveC1zaGFkb3c6IDAgMCA4cHggNHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgfVxuXG4gIC5idXR0b25zIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGdhcDogM2VtO1xuICB9XG5cbiAgLmJ1dHRvbnMgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcbiAgICBjb2xvcjogI2VkMDAwMDtcbiAgICBwYWRkaW5nOiAxZW0gMmVtO1xuICAgIGZvbnQtc2l6ZTogMS4yZW07XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VkMDAwMDtcbiAgfVxuXG4gIC5idXR0b25zIGJ1dHRvbjpob3ZlciB7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci1jb2xvcjogd2hpdGU7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICB9XG5cbiAgPmRpdiBoMSB7XG4gICAgbWFyZ2luLWJvdHRvbTogMS4xZW07XG4gICAgcGFkZGluZzogMDtcbiAgfVxuXG4gID5kaXYgaDIge1xuICAgIG1hcmdpbi1ib3R0b206IDFlbTtcbiAgICBwYWRkaW5nOiAwO1xuICB9XG4gID5kaXYgaDIgc3BhbntcbiAgICBjb2xvcjogcmVkO1xuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementContainerStart","ɵɵelementStart","ɵɵlistener","ModalComponent_ng_container_0_Template_section_click_1_listener","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","close","ModalComponent_ng_container_0_Template_div_click_2_listener","$event","stopPropagation","ɵɵtext","ɵɵelementEnd","ModalComponent_ng_container_0_Template_button_click_11_listener","ctx_r5","ModalComponent_ng_container_0_Template_button_click_13_listener","ctx_r6","delete","ɵɵelementContainerEnd","ɵɵadvance","ɵɵclassProp","display_r1","ɵɵtextInterpolate","ctx_r0","title","ModalComponent","constructor","modalService","movieService","router","route","movieId","snapshot","params","ngOnInit","display$","watch","deleteMovie","subscribe","navigate","_","ɵɵdirectiveInject","i1","ModalService","i2","MovieService","i3","Router","ActivatedRoute","_2","selectors","inputs","decls","vars","consts","template","ModalComponent_Template","rf","ctx","ɵɵtemplate","ModalComponent_ng_container_0_Template","ɵɵproperty","ɵɵpipeBind1"],"sources":["/Users/stoyangalchev/Desktop/Webflix-Angular/Webflix/src/app/feature/modal/modal.component.ts","/Users/stoyangalchev/Desktop/Webflix-Angular/Webflix/src/app/feature/modal/modal.component.html"],"sourcesContent":["import { Component, Input } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ModalService } from '../services/modal.service';\nimport { MovieService } from '../services/movie.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-modal',\n  templateUrl: './modal.component.html',\n  styleUrls: ['./modal.component.css']\n})\nexport class ModalComponent {\n  @Input() title: string | undefined;\n  display$: Observable<string> | undefined;\n  movieId = this.route.snapshot.params[\"id\"];\n\n  constructor(private modalService: ModalService, private movieService: MovieService, private router: Router,private route: ActivatedRoute) {}\n\n  ngOnInit() {\n    \n    this.display$ = this.modalService.watch();\n  }\n\n  close() {\n    this.modalService.close();\n  }\n\n  delete(){\n    this.movieService.deleteMovie(this.movieId).subscribe(()=>{\n      this.modalService.close();\n      this.router.navigate([\"dashboard\"]);\n    })\n  }\n}\n","<ng-container *ngIf=\"display$ | async as display\">\n    <section [class.open]=\"display === 'open'\" (click)=\"close()\">\n        <div (click)=\"$event.stopPropagation()\">\n            <h1>Attention!</h1>\n            <h2>Do you really want to DELETE <span>{{title}}</span>?</h2>\n            <div class=\"buttons\">\n                <button class=\"close\" type=\"button\" (click)=\"close()\">Cancel</button>\n                <button class=\"close\" type=\"button\" (click)=\"delete()\">Delete</button>\n            </div>\n        </div>\n    </section>\n</ng-container>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}