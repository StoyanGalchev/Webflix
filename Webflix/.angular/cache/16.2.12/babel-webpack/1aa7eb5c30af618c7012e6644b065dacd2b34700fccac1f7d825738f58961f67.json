{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/user.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../shared/loading-spinner/loading-spinner.component\";\nimport * as i4 from \"../../shared/no-movies/no-movies.component\";\nimport * as i5 from \"../../shared/error-message/error-message.component\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/forms\";\nfunction MyProfileComponent_div_15_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Image URL is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyProfileComponent_div_15_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Image URL must start with http:// or https:// ! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MyProfileComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, MyProfileComponent_div_15_div_1_Template, 2, 0, \"div\", 16);\n    i0.ɵɵtemplate(2, MyProfileComponent_div_15_div_2_Template, 2, 0, \"div\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"pattern\"]);\n  }\n}\nfunction MyProfileComponent_app_no_movies_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-no-movies\");\n  }\n}\nfunction MyProfileComponent_app_loading_spinner_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-loading-spinner\");\n  }\n}\nconst _c0 = function (a2) {\n  return [\"/\", \"movie-details\", a2];\n};\nfunction MyProfileComponent_ul_30_li_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 21)(1, \"div\", 2);\n    i0.ɵɵelement(2, \"img\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 23)(4, \"h3\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"h5\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementStart(8, \"span\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"p\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 24);\n    i0.ɵɵtext(13, \"Details\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const movie_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", movie_r9.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵpropertyInterpolate(\"alt\", movie_r9.title);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(movie_r9.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Director: \", movie_r9.director, \" | \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Year: \", movie_r9.year, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Genre: \", movie_r9.genre, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(7, _c0, movie_r9._id));\n  }\n}\nfunction MyProfileComponent_ul_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ul\", 19);\n    i0.ɵɵtemplate(1, MyProfileComponent_ul_30_li_1_Template, 14, 9, \"li\", 20);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.movies);\n  }\n}\nexport let MyProfileComponent = /*#__PURE__*/(() => {\n  class MyProfileComponent {\n    constructor(userService) {\n      this.userService = userService;\n      this.isLoading = true;\n      this.hasMovies = false;\n    }\n    ngOnInit() {\n      this.userService.getProfile().subscribe(user => {\n        this.user = user;\n        this.movies = user.movies;\n        if (this.movies.length !== 0) {\n          this.hasMovies = true;\n        }\n        this.isLoading = false;\n      });\n    }\n    submitHandler(form) {\n      if (form.invalid) {\n        return;\n      }\n      const {\n        imageUrl\n      } = form.value;\n      this.userService.updateProfile(imageUrl).subscribe(user => {\n        this.user = user;\n        form.resetForm();\n      });\n    }\n    static #_ = this.ɵfac = function MyProfileComponent_Factory(t) {\n      return new (t || MyProfileComponent)(i0.ɵɵdirectiveInject(i1.UserService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: MyProfileComponent,\n      selectors: [[\"app-my-profile\"]],\n      decls: 31,\n      vars: 8,\n      consts: [[1, \"my-profile\"], [1, \"profil-information\"], [1, \"media\"], [\"alt\", \"Profile picture\", 3, \"src\"], [\"for\", \"btn-checkbox\"], [\"id\", \"btn-checkbox\", \"type\", \"checkbox\"], [1, \"collapse\"], [1, \"card\", \"card-body\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"type\", \"text\", \"name\", \"imageUrl\", \"placeholder\", \"Add image URL\", \"ngModel\", \"\", \"required\", \"\", \"pattern\", \"^https?:\\\\/\\\\/[+\\\\w+\\\\W+]+\"], [\"imageUrl\", \"ngModel\"], [\"type\", \"submit\", \"value\", \"Change picture\"], [\"class\", \"error\", 4, \"ngIf\"], [1, \"info\"], [1, \"my-posts\"], [4, \"ngIf\"], [\"class\", \"card-list\", 4, \"ngIf\"], [1, \"error\"], [1, \"card-list\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [3, \"src\", \"alt\"], [1, \"card-info\"], [3, \"routerLink\"]],\n      template: function MyProfileComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r10 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵelement(3, \"img\", 3);\n          i0.ɵɵelementStart(4, \"button\")(5, \"label\", 4);\n          i0.ɵɵtext(6, \"Change profile picture\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(7, \"input\", 5);\n          i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 7)(10, \"form\", 8, 9);\n          i0.ɵɵlistener(\"ngSubmit\", function MyProfileComponent_Template_form_ngSubmit_10_listener() {\n            i0.ɵɵrestoreView(_r10);\n            const _r0 = i0.ɵɵreference(11);\n            return i0.ɵɵresetView(ctx.submitHandler(_r0));\n          });\n          i0.ɵɵelement(12, \"input\", 10, 11)(14, \"input\", 12);\n          i0.ɵɵtemplate(15, MyProfileComponent_div_15_Template, 3, 2, \"div\", 13);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(16, \"div\", 14)(17, \"p\");\n          i0.ɵɵtext(18);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"p\");\n          i0.ɵɵtext(20);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"p\");\n          i0.ɵɵtext(22);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(23, \"app-error-message\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(24, \"div\", 15)(25, \"div\", 14)(26, \"h3\");\n          i0.ɵɵtext(27, \"My movies\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(28, MyProfileComponent_app_no_movies_28_Template, 1, 0, \"app-no-movies\", 16);\n          i0.ɵɵtemplate(29, MyProfileComponent_app_loading_spinner_29_Template, 1, 0, \"app-loading-spinner\", 16);\n          i0.ɵɵtemplate(30, MyProfileComponent_ul_30_Template, 2, 1, \"ul\", 17);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          const _r1 = i0.ɵɵreference(13);\n          i0.ɵɵadvance(3);\n          i0.ɵɵpropertyInterpolate(\"src\", ctx.user == null ? null : ctx.user.imageUrl, i0.ɵɵsanitizeUrl);\n          i0.ɵɵadvance(12);\n          i0.ɵɵproperty(\"ngIf\", _r1.touched);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"Username: \", ctx.user == null ? null : ctx.user.username, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Email: \", ctx.user == null ? null : ctx.user.email, \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtextInterpolate1(\"Age: \", ctx.user == null ? null : ctx.user.age, \"\");\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngIf\", !ctx.hasMovies);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isLoading);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.hasMovies);\n        }\n      },\n      dependencies: [i2.NgForOf, i2.NgIf, i3.LoadingSpinnerComponent, i4.NoMoviesComponent, i5.ErrorMessageComponent, i6.RouterLink, i7.ɵNgNoValidate, i7.DefaultValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.RequiredValidator, i7.PatternValidator, i7.NgModel, i7.NgForm],\n      styles: [\".home-page[_ngcontent-%COMP%]{background-color:#000!important}.my-profile[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background-color:#0006;height:100%}.profil-information[_ngcontent-%COMP%]{align-self:flex-center;display:flex;gap:3em;padding:3em;color:#e50914;background-color:#0009}.profil-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{font-size:1.4em}.my-posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#e50914;padding-top:2em}.profil-information[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-center;gap:.5em;width:15em;overflow:hidden}button[_ngcontent-%COMP%]{background-color:#e50914;color:#fff;border:none;padding:.5em 1em;border-radius:.5em;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 5px 15px #0003}.profil-information[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;width:100%;height:auto;border-radius:.5em}label[_ngcontent-%COMP%]{display:inline-block;padding:.5em .75em;margin:-8px;border:none;border-radius:.5em;background-color:#e50914;color:#fff;text-align:center;cursor:pointer;transition:all .3s;position:relative;overflow:hidden;box-shadow:0 5px 15px #0003}label[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}label[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 10px #0003}.card.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:1em;background-color:none;padding:.5em 0 .5em .5em;position:relative;height:7em}.card.card-body[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background-color:#000;color:#e50914;border-radius:.5em;border:1px solid #e50914;padding:.3em .5em;cursor:pointer}.card.card-body[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{min-height:2em;min-width:15em}div.collapse[_ngcontent-%COMP%]{display:none}#btn-checkbox[_ngcontent-%COMP%]{width:0;height:0;opacity:0}#btn-checkbox[_ngcontent-%COMP%]:checked + div.collapse[_ngcontent-%COMP%]{display:block}.recent-posts[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:2em}.recent-posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;color:#e50914}.recent-posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:0}.recent-posts[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e50914;font-size:1.2em}.card-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:140em;justify-content:center;gap:2em;margin-bottom:5em}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:25em;background-color:#e50914;border:1px solid #ed0000;border-radius:1em;box-shadow:0 0 1em #f4b95399}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]{width:100%;height:30em;display:flex;margin-bottom:.5em;border-radius:20px}.card[_ngcontent-%COMP%]   .media[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;max-width:100%;height:auto;border-radius:20px}.card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;align-items:center;border-radius:20px}.card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:block;text-decoration:none;text-align:center;width:350px;padding:.5em .3em;background-color:#000;color:#fff;text-transform:uppercase;border:none;letter-spacing:.2em;font-weight:700;border-radius:20px}.card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000;cursor:pointer;background-color:#faebd7;border-radius:20px}.card[_ngcontent-%COMP%]   .card-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1em;border-radius:20px}.error[_ngcontent-%COMP%]{margin:0;padding:0;position:absolute;top:4em;left:1em;color:#ffe100;width:15em}\"]\n    });\n  }\n  return MyProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}