{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nexport let MovieEditComponent = class MovieEditComponent {\n  constructor(movieService, activedRoute, router) {\n    this.movieService = movieService;\n    this.activedRoute = activedRoute;\n    this.router = router;\n    this.movieId = this.activedRoute.snapshot.params[\"id\"];\n  }\n  ngOnInit() {\n    this.movieService.getMovie(this.movieId).subscribe(movie => {\n      const {\n        title,\n        director,\n        year,\n        plot,\n        genre,\n        imageUrl\n      } = movie;\n      this.form?.setValue({\n        title,\n        director,\n        year,\n        plot,\n        genre,\n        imageUrl\n      });\n    });\n  }\n  submitHandler() {\n    if (this.form?.invalid) {\n      return;\n    }\n    const {\n      title,\n      director,\n      year,\n      genre,\n      imageUrl,\n      plot\n    } = this.form?.value;\n    this.movieService.editMovie(title, director, year, genre, imageUrl, plot, this.movieId).subscribe(() => {\n      this.router.navigate([`/movie-details/${this.movieId}`]);\n    });\n  }\n};\n__decorate([ViewChild('form')], MovieEditComponent.prototype, \"form\", void 0);\nMovieEditComponent = __decorate([Component({\n  selector: 'app-movie-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})], MovieEditComponent);","map":{"version":3,"names":["Component","ViewChild","MovieEditComponent","constructor","movieService","activedRoute","router","movieId","snapshot","params","ngOnInit","getMovie","subscribe","movie","title","director","year","plot","genre","imageUrl","form","setValue","submitHandler","invalid","value","editMovie","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/stoyangalchev/Desktop/Webflix-Angular/Webflix/src/app/feature/movie-edit/movie-edit.component.ts"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { MovieService } from '../services/movie.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-movie-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})\nexport class MovieEditComponent implements OnInit {\n  @ViewChild('form') form: NgForm | undefined;\n\n  movieId = this.activedRoute.snapshot.params[\"id\"];\n\n  constructor(private movieService: MovieService, private activedRoute: ActivatedRoute, private router: Router){}\n\n  ngOnInit(): void {\n    this.movieService.getMovie(this.movieId).subscribe((movie)=>{\n      const {title, director, year, plot, genre, imageUrl} = movie\n      this.form?.setValue({title, director, year, plot, genre, imageUrl});\n    })\n  }\n  \n  submitHandler(){\n    if (this.form?.invalid) {\n      return;\n    }\n    const {title, director, year, genre, imageUrl, plot} = this.form?.value;\n    this.movieService.editMovie(title, director, year, genre, imageUrl, plot, this.movieId).subscribe(()=>{\n      this.router.navigate([`/movie-details/${this.movieId}`]);\n    })\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAUC,SAAS,QAAQ,eAAe;AAUrD,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAK7BC,YAAoBC,YAA0B,EAAUC,YAA4B,EAAUC,MAAc;IAAxF,KAAAF,YAAY,GAAZA,YAAY;IAAwB,KAAAC,YAAY,GAAZA,YAAY;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAFpG,KAAAC,OAAO,GAAG,IAAI,CAACF,YAAY,CAACG,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;EAE6D;EAE9GC,QAAQA,CAAA;IACN,IAAI,CAACN,YAAY,CAACO,QAAQ,CAAC,IAAI,CAACJ,OAAO,CAAC,CAACK,SAAS,CAAEC,KAAK,IAAG;MAC1D,MAAM;QAACC,KAAK;QAAEC,QAAQ;QAAEC,IAAI;QAAEC,IAAI;QAAEC,KAAK;QAAEC;MAAQ,CAAC,GAAGN,KAAK;MAC5D,IAAI,CAACO,IAAI,EAAEC,QAAQ,CAAC;QAACP,KAAK;QAAEC,QAAQ;QAAEC,IAAI;QAAEC,IAAI;QAAEC,KAAK;QAAEC;MAAQ,CAAC,CAAC;IACrE,CAAC,CAAC;EACJ;EAEAG,aAAaA,CAAA;IACX,IAAI,IAAI,CAACF,IAAI,EAAEG,OAAO,EAAE;MACtB;;IAEF,MAAM;MAACT,KAAK;MAAEC,QAAQ;MAAEC,IAAI;MAAEE,KAAK;MAAEC,QAAQ;MAAEF;IAAI,CAAC,GAAG,IAAI,CAACG,IAAI,EAAEI,KAAK;IACvE,IAAI,CAACpB,YAAY,CAACqB,SAAS,CAACX,KAAK,EAAEC,QAAQ,EAAEC,IAAI,EAAEE,KAAK,EAAEC,QAAQ,EAAEF,IAAI,EAAE,IAAI,CAACV,OAAO,CAAC,CAACK,SAAS,CAAC,MAAI;MACpG,IAAI,CAACN,MAAM,CAACoB,QAAQ,CAAC,CAAC,kBAAkB,IAAI,CAACnB,OAAO,EAAE,CAAC,CAAC;IAC1D,CAAC,CAAC;EACJ;CACD;AAtBoBoB,UAAA,EAAlB1B,SAAS,CAAC,MAAM,CAAC,C,+CAA0B;AADjCC,kBAAkB,GAAAyB,UAAA,EAL9B3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW5B,kBAAkB,CAuB9B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}