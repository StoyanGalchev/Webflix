{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/modal.service\";\nimport * as i2 from \"../services/movie.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction ModalComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"section\", 1);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_section_click_1_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.close());\n    });\n    i0.ɵɵelementStart(2, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_div_click_2_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵelementStart(3, \"h1\");\n    i0.ɵɵtext(4, \"Attention!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h2\");\n    i0.ɵɵtext(6, \"Do you really want to DELETE \");\n    i0.ɵɵelementStart(7, \"span\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(9, \"?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 2)(11, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.close());\n    });\n    i0.ɵɵtext(12, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function ModalComponent_ng_container_0_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.delete());\n    });\n    i0.ɵɵtext(14, \"Delete\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const display_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"open\", display_r1 === \"open\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r0.title);\n  }\n}\nexport let ModalComponent = /*#__PURE__*/(() => {\n  class ModalComponent {\n    constructor(modalService, movieService, router, route) {\n      this.modalService = modalService;\n      this.movieService = movieService;\n      this.router = router;\n      this.route = route;\n      this.movieId = this.route.snapshot.params[\"id\"];\n    }\n    ngOnInit() {\n      this.display$ = this.modalService.watch();\n    }\n    close() {\n      this.modalService.close();\n    }\n    delete() {\n      this.movieService.deleteMovie(this.movieId).subscribe(() => {\n        this.modalService.close();\n        this.router.navigate([\"dashboard\"]);\n      });\n    }\n    static #_ = this.ɵfac = function ModalComponent_Factory(t) {\n      return new (t || ModalComponent)(i0.ɵɵdirectiveInject(i1.ModalService), i0.ɵɵdirectiveInject(i2.MovieService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ModalComponent,\n      selectors: [[\"app-modal\"]],\n      inputs: {\n        title: \"title\"\n      },\n      decls: 2,\n      vars: 3,\n      consts: [[4, \"ngIf\"], [3, \"click\"], [1, \"buttons\"], [\"type\", \"button\", 1, \"close\", 3, \"click\"]],\n      template: function ModalComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵtemplate(0, ModalComponent_ng_container_0_Template, 15, 3, \"ng-container\", 0);\n          i0.ɵɵpipe(1, \"async\");\n        }\n        if (rf & 2) {\n          i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(1, 1, ctx.display$));\n        }\n      },\n      dependencies: [i4.NgIf, i4.AsyncPipe],\n      styles: [\"section[_ngcontent-%COMP%]{visibility:hidden;opacity:0;display:block;position:absolute;inset:0;background:rgba(0,0,0,.2);transition:opacity .25s ease-in}section.open[_ngcontent-%COMP%]{visibility:inherit;opacity:1}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);height:25em;width:50em;background:#ed0000;padding:64px;border-radius:8px;box-shadow:0 0 8px 4px #0000001a}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex;gap:3em}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#000;color:#ed0000;padding:1em 2em;font-size:1.2em;border:1px solid #ed0000}section[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{color:#fff;border-color:#fff;cursor:pointer}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:1.1em;padding:0}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1em;padding:0}section[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}\"]\n    });\n  }\n  return ModalComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}