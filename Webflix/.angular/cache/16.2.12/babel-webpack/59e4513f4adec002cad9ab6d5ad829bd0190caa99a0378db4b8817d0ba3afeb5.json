{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/movie.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../shared/error-message/error-message.component\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"form\"];\nfunction MovieEditComponent_div_13_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Title is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_13_div_1_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r1 = i0.ɵɵreference(12);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r1.errors == null ? null : _r1.errors[\"required\"]);\n  }\n}\nfunction MovieEditComponent_div_19_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Director is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_19_div_1_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(18);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors == null ? null : _r3.errors[\"required\"]);\n  }\n}\nfunction MovieEditComponent_div_25_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Year is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_25_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" First movie was made in 1888. Please enter valid year! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_25_div_1_Template, 2, 0, \"div\", 22);\n    i0.ɵɵtemplate(2, MovieEditComponent_div_25_div_2_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(24);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors == null ? null : _r5.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors == null ? null : _r5.errors[\"min\"]);\n  }\n}\nfunction MovieEditComponent_div_31_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Genre is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_31_div_1_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r7 = i0.ɵɵreference(30);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors == null ? null : _r7.errors[\"required\"]);\n  }\n}\nfunction MovieEditComponent_div_37_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Image URL is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_37_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \" Image URL must start with http:// or https://! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_37_div_1_Template, 2, 0, \"div\", 22);\n    i0.ɵɵtemplate(2, MovieEditComponent_div_37_div_2_Template, 2, 0, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r9 = i0.ɵɵreference(36);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors == null ? null : _r9.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r9.errors == null ? null : _r9.errors[\"pattern\"]);\n  }\n}\nfunction MovieEditComponent_div_43_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1, \" Plot is required! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_43_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 24);\n    i0.ɵɵtext(1, \" Plot must be more than 10 characters! \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MovieEditComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 21);\n    i0.ɵɵtemplate(1, MovieEditComponent_div_43_div_1_Template, 2, 0, \"div\", 23);\n    i0.ɵɵtemplate(2, MovieEditComponent_div_43_div_2_Template, 2, 0, \"div\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r11 = i0.ɵɵreference(42);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r11.errors == null ? null : _r11.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r11.errors == null ? null : _r11.errors[\"minlength\"]);\n  }\n}\nexport class MovieEditComponent {\n  constructor(movieService, activedRoute, router) {\n    this.movieService = movieService;\n    this.activedRoute = activedRoute;\n    this.router = router;\n    this.movieId = this.activedRoute.snapshot.params[\"id\"];\n  }\n  ngOnInit() {\n    this.movieService.getMovie(this.movieId).subscribe(movie => {\n      const {\n        title,\n        director,\n        year,\n        plot,\n        genre,\n        imageUrl\n      } = movie;\n      this.form?.setValue({\n        title,\n        director,\n        year,\n        plot,\n        genre,\n        imageUrl\n      });\n    });\n  }\n  submitHandler() {\n    if (this.form?.invalid) {\n      return;\n    }\n    const {\n      title,\n      director,\n      year,\n      genre,\n      imageUrl,\n      plot\n    } = this.form?.value;\n    this.movieService.editMovie(title, director, year, genre, imageUrl, plot, this.movieId).subscribe(() => {\n      this.router.navigate([`/movie-details/${this.movieId}`]);\n    });\n  }\n  static #_ = this.ɵfac = function MovieEditComponent_Factory(t) {\n    return new (t || MovieEditComponent)(i0.ɵɵdirectiveInject(i1.MovieService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MovieEditComponent,\n    selectors: [[\"app-movie-edit\"]],\n    viewQuery: function MovieEditComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.form = _t.first);\n      }\n    },\n    decls: 46,\n    vars: 6,\n    consts: [[1, \"movie-edit\"], [3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"header\"], [1, \"fields\"], [1, \"field\"], [\"type\", \"text\", \"name\", \"title\", \"ngModel\", \"\", \"required\", \"\"], [\"title\", \"ngModel\"], [\"class\", \"error\", 4, \"ngIf\"], [\"type\", \"text\", \"name\", \"director\", \"ngModel\", \"\", \"required\", \"\"], [\"director\", \"ngModel\"], [\"type\", \"number\", \"name\", \"year\", \"ngModel\", \"\", \"required\", \"\", \"min\", \"1888\"], [\"year\", \"ngModel\"], [\"type\", \"text\", \"name\", \"genre\", \"ngModel\", \"\", \"required\", \"\"], [\"genre\", \"ngModel\"], [\"type\", \"text\", \"name\", \"imageUrl\", \"ngModel\", \"\", \"required\", \"\", \"pattern\", \"^https?:\\\\/\\\\/[+\\\\w+\\\\W+]+\"], [\"imageUrl\", \"ngModel\"], [\"name\", \"plot\", \"id\", \"plot\", \"cols\", \"21\", \"rows\", \"10\", \"ngModel\", \"\", \"required\", \"\", \"minlength\", \"10\"], [\"plot\", \"ngModel\"], [1, \"button\"], [\"type\", \"submit\", \"value\", \"Edit\"], [1, \"error\"], [4, \"ngIf\"], [\"class\", \"error-long\", 4, \"ngIf\"], [1, \"error-long\"]],\n    template: function MovieEditComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n        i0.ɵɵlistener(\"ngSubmit\", function MovieEditComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.submitHandler();\n        });\n        i0.ɵɵelementStart(3, \"div\", 3)(4, \"h3\");\n        i0.ɵɵtext(5, \"Edit Movie\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(6, \"app-error-message\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"label\");\n        i0.ɵɵtext(10, \"Title\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6, 7);\n        i0.ɵɵtemplate(13, MovieEditComponent_div_13_Template, 2, 1, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 5)(15, \"label\");\n        i0.ɵɵtext(16, \"Director\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(17, \"input\", 9, 10);\n        i0.ɵɵtemplate(19, MovieEditComponent_div_19_Template, 2, 1, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"div\", 5)(21, \"label\");\n        i0.ɵɵtext(22, \"Year\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(23, \"input\", 11, 12);\n        i0.ɵɵtemplate(25, MovieEditComponent_div_25_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 5)(27, \"label\");\n        i0.ɵɵtext(28, \"Genre\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(29, \"input\", 13, 14);\n        i0.ɵɵtemplate(31, MovieEditComponent_div_31_Template, 2, 1, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 5)(33, \"label\");\n        i0.ɵɵtext(34, \"Image URL\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"input\", 15, 16);\n        i0.ɵɵtemplate(37, MovieEditComponent_div_37_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 5)(39, \"label\");\n        i0.ɵɵtext(40, \"Plot\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(41, \"textarea\", 17, 18);\n        i0.ɵɵtemplate(43, MovieEditComponent_div_43_Template, 3, 2, \"div\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 19);\n        i0.ɵɵelement(45, \"input\", 20);\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        const _r1 = i0.ɵɵreference(12);\n        const _r3 = i0.ɵɵreference(18);\n        const _r5 = i0.ɵɵreference(24);\n        const _r7 = i0.ɵɵreference(30);\n        const _r9 = i0.ɵɵreference(36);\n        const _r11 = i0.ɵɵreference(42);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", _r1.touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r3.touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r5.touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r7.touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r9.touched);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", _r11.touched);\n      }\n    },\n    dependencies: [i3.NgIf, i4.ErrorMessageComponent, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.PatternValidator, i5.MinValidator, i5.NgModel, i5.NgForm],\n    styles: [\".movie-edit[_ngcontent-%COMP%]{\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    background-color: rgba(0, 0, 0,0.4);\\n    height: 100%;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{\\n    display: flex;\\n    justify-content: space-evenly;\\n    align-items: center;\\n    min-width: 50em;\\n    background-color: rgba(0, 0, 0,0.6);\\n    color:#ed0000;\\n    min-height: 20em;\\n    border-radius: 1em;\\n    padding: 1em 1em 1em 0;\\n    gap: 2em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{\\n    position: relative;\\n    padding-left: 1em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   app-error-message[_ngcontent-%COMP%]{\\n    position: absolute;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{\\n    font-size: 3em;\\n    text-transform: uppercase;\\n    margin-bottom: 0;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]{\\n    display: flex;\\n    flex-direction: column;\\n    gap: 2em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]{\\n    display: flex;\\n    gap: 2em;\\n    justify-content: space-between;\\n    align-items: center;\\n    position: relative;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{\\n    font-size: 1.5em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    min-width: 20em;\\n    min-height: 2em;\\n    border: 2px solid #ed0000;\\n    border-radius: 0.5em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{\\n    resize: none;\\n    min-width: 20em;\\n    height: 10em;\\n    border: 2px solid #ed0000;\\n    border-radius: 0.5em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{\\n    background-color: black;\\n    color: #ed0000;\\n    border: 1px solid #ed0000;\\n    padding: 0.5em 1em;\\n    font-size: 1.5em;\\n}\\n.movie-edit[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .fields[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{\\n    color: white;\\n    border-color: white;\\n    cursor: pointer;\\n}\\n.error[_ngcontent-%COMP%]{\\n    margin: 0;\\n    padding: 0;\\n    position: absolute;\\n    top: 2.2em;\\n    left: 0;\\n    color: red;\\n}\\n.error-long[_ngcontent-%COMP%]{\\n    width: 7em;\\n    position: absolute;\\n    top: 4em;\\n    left: 0;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZmVhdHVyZS9tb3ZpZS1lZGl0L21vdmllLWVkaXQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLG1DQUFtQztJQUNuQyxZQUFZO0FBQ2hCO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsNkJBQTZCO0lBQzdCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YsbUNBQW1DO0lBQ25DLGFBQWE7SUFDYixnQkFBZ0I7SUFDaEIsa0JBQWtCO0lBQ2xCLHNCQUFzQjtJQUN0QixRQUFRO0FBQ1o7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7QUFDckI7QUFDQTtJQUNJLGtCQUFrQjtBQUN0QjtBQUNBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtJQUN6QixnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsUUFBUTtBQUNaO0FBQ0E7SUFDSSxhQUFhO0lBQ2IsUUFBUTtJQUNSLDhCQUE4QjtJQUM5QixtQkFBbUI7SUFDbkIsa0JBQWtCO0FBQ3RCO0FBQ0E7SUFDSSxnQkFBZ0I7QUFDcEI7QUFDQTtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2YseUJBQXlCO0lBQ3pCLG9CQUFvQjtBQUN4QjtBQUNBO0lBQ0ksWUFBWTtJQUNaLGVBQWU7SUFDZixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLG9CQUFvQjtBQUN4QjtBQUNBO0lBQ0ksdUJBQXVCO0lBQ3ZCLGNBQWM7SUFDZCx5QkFBeUI7SUFDekIsa0JBQWtCO0lBQ2xCLGdCQUFnQjtBQUNwQjtBQUNBO0lBQ0ksWUFBWTtJQUNaLG1CQUFtQjtJQUNuQixlQUFlO0FBQ25CO0FBQ0E7SUFDSSxTQUFTO0lBQ1QsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixVQUFVO0lBQ1YsT0FBTztJQUNQLFVBQVU7QUFDZDtBQUNBO0lBQ0ksVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixRQUFRO0lBQ1IsT0FBTztBQUNYIiwic291cmNlc0NvbnRlbnQiOlsiLm1vdmllLWVkaXR7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLDAuNCk7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLm1vdmllLWVkaXQgZm9ybXtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtaW4td2lkdGg6IDUwZW07XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsMC42KTtcclxuICAgIGNvbG9yOiNlZDAwMDA7XHJcbiAgICBtaW4taGVpZ2h0OiAyMGVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMWVtO1xyXG4gICAgcGFkZGluZzogMWVtIDFlbSAxZW0gMDtcclxuICAgIGdhcDogMmVtO1xyXG59XHJcbi5tb3ZpZS1lZGl0IGZvcm0gLmhlYWRlcntcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHBhZGRpbmctbGVmdDogMWVtO1xyXG59XHJcbi5tb3ZpZS1lZGl0IGZvcm0gYXBwLWVycm9yLW1lc3NhZ2V7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbn1cclxuLm1vdmllLWVkaXQgZm9ybSBoM3tcclxuICAgIGZvbnQtc2l6ZTogM2VtO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIG1hcmdpbi1ib3R0b206IDA7XHJcbn1cclxuLm1vdmllLWVkaXQgZm9ybSAuZmllbGRze1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDJlbTtcclxufVxyXG4ubW92aWUtZWRpdCBmb3JtIC5maWVsZHMgLmZpZWxke1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMmVtO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG4ubW92aWUtZWRpdCBmb3JtIC5maWVsZHMgLmZpZWxkIGxhYmVse1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxufVxyXG4ubW92aWUtZWRpdCBmb3JtIC5maWVsZHMgLmZpZWxkIGlucHV0e1xyXG4gICAgbWluLXdpZHRoOiAyMGVtO1xyXG4gICAgbWluLWhlaWdodDogMmVtO1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgI2VkMDAwMDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAuNWVtO1xyXG59XHJcbi5tb3ZpZS1lZGl0IGZvcm0gLmZpZWxkcyAuZmllbGQgdGV4dGFyZWF7XHJcbiAgICByZXNpemU6IG5vbmU7XHJcbiAgICBtaW4td2lkdGg6IDIwZW07XHJcbiAgICBoZWlnaHQ6IDEwZW07XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCAjZWQwMDAwO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMC41ZW07XHJcbn1cclxuLm1vdmllLWVkaXQgZm9ybSAuZmllbGRzIC5idXR0b24gaW5wdXR7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIGNvbG9yOiAjZWQwMDAwO1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VkMDAwMDtcclxuICAgIHBhZGRpbmc6IDAuNWVtIDFlbTtcclxuICAgIGZvbnQtc2l6ZTogMS41ZW07XHJcbn1cclxuLm1vdmllLWVkaXQgZm9ybSAuZmllbGRzIC5idXR0b24gaW5wdXQ6aG92ZXJ7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcbi5lcnJvcntcclxuICAgIG1hcmdpbjogMDtcclxuICAgIHBhZGRpbmc6IDA7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDIuMmVtO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuLmVycm9yLWxvbmd7XHJcbiAgICB3aWR0aDogN2VtO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiA0ZW07XHJcbiAgICBsZWZ0OiAwO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","MovieEditComponent_div_13_div_1_Template","ɵɵadvance","ɵɵproperty","_r1","errors","MovieEditComponent_div_19_div_1_Template","_r3","MovieEditComponent_div_25_div_1_Template","MovieEditComponent_div_25_div_2_Template","_r5","MovieEditComponent_div_31_div_1_Template","_r7","MovieEditComponent_div_37_div_1_Template","MovieEditComponent_div_37_div_2_Template","_r9","MovieEditComponent_div_43_div_1_Template","MovieEditComponent_div_43_div_2_Template","_r11","MovieEditComponent","constructor","movieService","activedRoute","router","movieId","snapshot","params","ngOnInit","getMovie","subscribe","movie","title","director","year","plot","genre","imageUrl","form","setValue","submitHandler","invalid","value","editMovie","navigate","_","ɵɵdirectiveInject","i1","MovieService","i2","ActivatedRoute","Router","_2","selectors","viewQuery","MovieEditComponent_Query","rf","ctx","ɵɵlistener","MovieEditComponent_Template_form_ngSubmit_1_listener","ɵɵelement","MovieEditComponent_div_13_Template","MovieEditComponent_div_19_Template","MovieEditComponent_div_25_Template","MovieEditComponent_div_31_Template","MovieEditComponent_div_37_Template","MovieEditComponent_div_43_Template","touched"],"sources":["/Users/stoyangalchev/Desktop/Webflix-Angular/Webflix/src/app/feature/movie-edit/movie-edit.component.ts","/Users/stoyangalchev/Desktop/Webflix-Angular/Webflix/src/app/feature/movie-edit/movie-edit.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { MovieService } from '../services/movie.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-movie-edit',\n  templateUrl: './movie-edit.component.html',\n  styleUrls: ['./movie-edit.component.css']\n})\nexport class MovieEditComponent implements OnInit {\n  @ViewChild('form') form: NgForm | undefined;\n\n  movieId = this.activedRoute.snapshot.params[\"id\"];\n\n  constructor(private movieService: MovieService, private activedRoute: ActivatedRoute, private router: Router){}\n\n  ngOnInit(): void {\n    this.movieService.getMovie(this.movieId).subscribe((movie)=>{\n      const {title, director, year, plot, genre, imageUrl} = movie\n      this.form?.setValue({title, director, year, plot, genre, imageUrl});\n    })\n  }\n  \n  submitHandler(){\n    if (this.form?.invalid) {\n      return;\n    }\n    const {title, director, year, genre, imageUrl, plot} = this.form?.value;\n    this.movieService.editMovie(title, director, year, genre, imageUrl, plot, this.movieId).subscribe(()=>{\n      this.router.navigate([`/movie-details/${this.movieId}`]);\n    })\n  }\n}\n","<div class=\"movie-edit\">\n    <form #form=\"ngForm\" (ngSubmit)=\"submitHandler()\">\n        <div class=\"header\">\n            <h3>Edit Movie</h3>\n            <app-error-message/>\n        </div>\n        <div class=\"fields\">\n            <div class=\"field\">\n                <label>Title</label>\n                <input type=\"text\" name=\"title\" ngModel #title=\"ngModel\" required />\n                <div class=\"error\" *ngIf=\"title.touched\">\n                    <div *ngIf=\"title.errors?.['required']\">\n                        Title is required!\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label>Director</label>\n                <input type=\"text\" name=\"director\" ngModel #director=\"ngModel\" required/>\n                <div class=\"error\" *ngIf=\"director.touched\">\n                    <div *ngIf=\"director.errors?.['required']\">\n                        Director is required!\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label>Year</label>\n                <input type=\"number\" name=\"year\" ngModel #year=\"ngModel\" required min=\"1888\"/>\n                <div class=\"error\" *ngIf=\"year.touched\">\n                    <div *ngIf=\"year.errors?.['required']\">\n                        Year is required!\n                    </div>\n                    <div *ngIf=\"year.errors?.['min']\">\n                        First movie was made in 1888. Please enter valid year!\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label>Genre</label>\n                <input type=\"text\" name=\"genre\" ngModel #genre=\"ngModel\" required/>\n                <div class=\"error\" *ngIf=\"genre.touched\">\n                    <div *ngIf=\"genre.errors?.['required']\">\n                        Genre is required!\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label>Image URL</label>\n                <input type=\"text\" name=\"imageUrl\" ngModel #imageUrl=\"ngModel\" required pattern=\"^https?:\\/\\/[+\\w+\\W+]+\"/>\n                <div class=\"error\" *ngIf=\"imageUrl.touched\">\n                    <div *ngIf=\"imageUrl.errors?.['required']\">\n                        Image URL is required!\n                    </div>\n                    <div *ngIf=\"imageUrl.errors?.['pattern']\">\n                        Image URL must start with http:// or https://!\n                    </div>\n                </div>\n            </div>\n            <div class=\"field\">\n                <label>Plot</label>\n                <textarea name=\"plot\" id=\"plot\" cols=\"21\" rows=\"10\" ngModel #plot=\"ngModel\" required minlength=\"10\"></textarea>\n                <div class=\"error\" *ngIf=\"plot.touched\">\n                    <div *ngIf=\"plot.errors?.['required']\" class=\"error-long\">\n                        Plot is required!\n                    </div>\n                    <div *ngIf=\"plot.errors?.['minlength']\" class=\"error-long\">\n                        Plot must be more than 10 characters!\n                    </div>\n                </div>\n            </div>\n            <div class=\"button\">\n                <input type=\"submit\" value=\"Edit\" />\n            </div>\n        </div>\n    </form>\n</div>\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}